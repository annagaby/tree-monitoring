---
title: "tree_monitoring"
author: "Anna Calle"
date: "28/08/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
# Load necessary packages and read csv file
library(tidyverse)
library(plotly)
library(leaflet)
library(sf)
library(rgdal)
library(dplyr)
library(RColorBrewer)


tree_data <- read_csv("tree_monitoring.csv") %>% 
  filter(Year == 2020)

```


```{r}

        # Create tree location map
  

icons <- awesomeIcons(
  icon = 'fa-tree',
  iconColor = 'black',
  library = 'fa',
  markerColor = ifelse( tree_data$Alive_or_Dead == "Dead", "red", "green")
)


        leaflet(data = tree_data) %>%
            addTiles() %>% 
            addPolygons(data = sach_polygon,
                        color = "forestgreen",
                        weight = 1,
                        fillColor = "forestgreen") %>% 
            addAwesomeMarkers(data = tree_data,
                       lng = ~Longitude,
                       lat = ~Latitude,
                       icon = icons,
                       popup = paste("<strong>Tree ID</strong>:", tree_data$ID, "<br>",
                                     "<strong>Species:</strong>", tree_data$Species, "<br>",
                                     "<strong>Height:</strong>", tree_data$Height, " m" )) %>% 
            addMiniMap(zoomLevelOffset = -8) %>% 
            addScaleBar(position = "bottomleft")



```














